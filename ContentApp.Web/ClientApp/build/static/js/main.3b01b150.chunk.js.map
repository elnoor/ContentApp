{"version":3,"sources":["NewItemArea.js","Content.js","App.js","index.js"],"names":["emptyItem","name","value","category","NewItemArea","props","useState","item","setItem","onChange","e","target","parseFloat","parseInt","prevItem","onAdd","className","type","placeholder","categories","map","categoryName","index","key","onClick","disabled","saving","Content","items","setItems","setSaving","a","axios","post","isOk","response","data","status","alert","useEffect","get","groupedItems","reduce","group","grouped","push","Object","values","sort","first","second","groupItems","total","id","delete","filter","it","viewBox","fill","d","render","App","document","title","Component","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.3b01b150.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { categories } from \"./Content\";\r\n\r\nconst emptyItem = { name: \"\", value: \"\", category: 0 };\r\n// Made this area as separate component so that form change won't rerender the whole Content component\r\nexport default function NewItemArea(props) {\r\n  const [item, setItem] = useState({ ...emptyItem });\r\n\r\n  function onChange(e) {\r\n    let { name, value } = e.target;\r\n    if (name === \"value\") {\r\n      value = parseFloat(value);\r\n    } else if (name === \"category\") {\r\n      value = parseInt(value);\r\n    }\r\n\r\n    setItem((prevItem) => {\r\n      return { ...prevItem, [name]: value };\r\n    });\r\n  }\r\n\r\n  function onAdd() {\r\n    props.onAdd(item);\r\n    setItem({ ...emptyItem });  //reset values\r\n  }\r\n\r\n  function render() {\r\n    return (\r\n      <div className=\"d-flex\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={item.name}\r\n          className=\"form-control mr-2\"\r\n          placeholder=\"Name\"\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"value\"\r\n          value={item.value}\r\n          className=\"form-control mr-2\"\r\n          placeholder=\"Value\"\r\n          onChange={onChange}\r\n        />\r\n        <select\r\n          name=\"category\"\r\n          value={item.category}\r\n          onChange={onChange}\r\n          className=\"form-control mr-2\"\r\n        >\r\n          {categories.map((categoryName, index) => (\r\n            <option value={index} key={index}>\r\n              {categoryName}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          onClick={onAdd}\r\n          disabled={props.saving}\r\n        >\r\n          {props.saving ? \"Adding\" : \"Add\"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  return render();\r\n}\r\n","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport \"./Content.css\";\r\nimport NewItemArea from \"./NewItemArea\";\r\nimport axios from \"axios\";\r\n\r\nexport const categories = [\"Electronics\", \"Clothings\", \"Kitchen\"];\r\n\r\nexport default function Content(props) {\r\n  const [items, setItems] = useState([]);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // fetch initial data from server on component mount\r\n  useEffect(() => {\r\n    (async () => {\r\n      var response = await axios.get(\"/Api/Items\");\r\n      if (isOk(response)) {\r\n        setItems(response.data);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  function onAdd(item) {\r\n    (async () => {\r\n      setSaving(true);\r\n      var response = await axios.post(\"/Api/Items\", item);\r\n      if (isOk(response)) {\r\n        setItems([...items, response.data]);\r\n      }\r\n      setSaving(false);\r\n    })();\r\n  }\r\n\r\n  function onDelete(id) {\r\n    (async () => {\r\n      var response = await axios.delete(\"/Api/Items/\" + id);\r\n      if (isOk(response)) {\r\n        setItems(items.filter((it) => it.id !== id));\r\n      }\r\n    })();\r\n  }\r\n\r\n  // check if http request status\r\n  function isOk(response) {\r\n    if (response.status !== 200) {\r\n      alert(\"Something went wrong\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // group all items based on category and calculate every group's total value\r\n  function groupItems() {\r\n    const groupedItems = items.reduce(function (group, item) {\r\n      const grouped = (group[item.category] = group[item.category] || {\r\n        items: [],\r\n        value: 0,\r\n        categoryName: null,\r\n      });\r\n      grouped.categoryName = categories[item.category];\r\n      grouped.items.push(item);\r\n      grouped.value = grouped.value + (item.value || 0);\r\n      return group;\r\n    }, {});\r\n\r\n    // order by category\r\n    return Object.values(groupedItems).sort(\r\n      (first, second) => first.categoryName > second.categoryName ? 0 : -1\r\n    );\r\n  }\r\n\r\n  function render() {\r\n    const groupedItems = groupItems();\r\n    let total = 0;\r\n    return (\r\n      <div className=\"content\">\r\n        <ul>\r\n          {groupedItems.map((group) => {\r\n            total += group.value;\r\n            return (\r\n              <Fragment key={group.categoryName}>\r\n                <li className=\"category\">\r\n                  <span>{group.categoryName}</span>\r\n                  <span>${group.value}</span>\r\n                  <span></span>\r\n                </li>\r\n                <li>\r\n                  <ul>\r\n                    {group.items.map((item) => {\r\n                      return (\r\n                        <li key={item.id}>\r\n                          <span>{item.name}</span>\r\n                          <span>${item.value}</span>\r\n                          <span>\r\n                            <button\r\n                              onClick={() => onDelete(item.id)}\r\n                              className=\"border-0 bg-transparent\"\r\n                            >\r\n                              <svg viewBox=\"0 0 24 24\">\r\n                                <path\r\n                                  fill=\"grey\"\r\n                                  d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"\r\n                                />\r\n                              </svg>\r\n                            </button>\r\n                          </span>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </li>\r\n              </Fragment>\r\n            );\r\n          })}\r\n          <li className=\"category font-weight-bold\">\r\n            <span>TOTAL</span>\r\n            <span>${total}</span>\r\n            <span></span>\r\n          </li>\r\n        </ul>\r\n        <NewItemArea onAdd={onAdd} saving={saving} />\r\n      </div>\r\n    );\r\n  }\r\n  return render();\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Content from \"./Content\";\r\n\r\nexport default class App extends Component {\r\n  componentDidMount() {\r\n    document.title = \"Content App\";\r\n  }\r\n  render() {\r\n    return <Content />;\r\n  }\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.css\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nReactDOM.render(<App />, rootElement);"],"sourceRoot":""}